{"version":3,"sources":["styles/mainPage.module.scss","styles/manual.module.scss","components/p5canvas.js","assets/1.png","assets/2.png","assets/3.png","assets/4.png","assets/tail.png","components/manual.js","mainPage.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","App","props","setup","p5","parentRef","createCanvas","parent","frameRate","rs","draw","background","noFill","stroke","strokeWeight","offset","width","x","y","d","recursiveRect","w","j","i","nx","ny","random","cx","cy","r","arr","paramList","displayAuxiliaryVariable","a","b","c","e","f","push","translate","scale","beginShape","theta","TWO_PI","u","frameCount","v","cos","pow","sin","vertex","endShape","CLOSE","pop","direction","this","React","Component","Manual","className","styles","manual","src","manImg1","alt","m1","manImg2","manImg3","manImg4","manImg5","AV","require","Greet","userId","useParams","greet","Home","userData","useState","setParamList","callText","setCallText","callTexten","setCallTexten","dataText","setDataText","totalTime","setTotalTime","query","Query","length","init","appId","appKey","serverURL","equalTo","find","then","attributes","console","log","list","textFlag","brithTime","date","Date","Math","floor","Y","getFullYear","M","getMonth","D","getDate","h","getHours","m","getMinutes","s","getSeconds","finishTime","call","pp","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.341a98c0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"greet\":\"mainPage_greet__2nEQr\",\"pp\":\"mainPage_pp__38Qlo\",\"call\":\"mainPage_call__2YLIP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"manual\":\"manual_manual__203Cc\",\"m1\":\"manual_m1__2Og9J\"};","// Copyright (c) 2021 drafff\n//\n// This software is released under the MIT License.\n// https://opensource.org/licenses/MIT\n\nimport Sketch from \"react-p5\";\nimport React from \"react\";\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.y = 0;\n    this.direction = \"^\";\n    this.rs = 0;\n  }\n\n  setup = (p5, parentRef) => {\n    p5.createCanvas(350, 350).parent(parentRef);\n    // console.log(this.props.rs);\n    p5.frameRate(30);\n    this.rs = this.props.rs;\n  };\n\n  draw = p5 => {\n    p5.background(255);\n    p5.noFill();\n    p5.stroke(0, 0, 0);\n    p5.strokeWeight(2);\n    let offset = p5.width / 20;\n    let x = offset;\n    let y = offset;\n    let d = p5.width - offset * 2;\n\n    this.recursiveRect(x, y, d, p5);\n  };\n\n  recursiveRect = (x, y, d, p5) => {\n    let step = 1;\n    let w = d / step;\n    for (let j = 0; j < step; j++) {\n      for (let i = 0; i < step; i++) {\n        let nx = x + i * w;\n        let ny = y + j * w;\n        if (p5.random(100) < 90 && w > p5.width) {\n          this.recursiveRect(nx, ny, w, p5);\n        } else {\n          let cx = nx + w / 2;\n          let cy = ny + w / 2;\n          let r = w / 2;\n          let arr = this.props.paramList;\n\n          this.displayAuxiliaryVariable(cx, cy, r, arr, p5);\n        }\n      }\n    }\n  };\n\n  displayAuxiliaryVariable = (cx, cy, r, arr, p5) => {\n    let a = arr[0];\n    let b = arr[1];\n    let c = arr[2];\n    let d = arr[3];\n    let e = arr[4];\n    let f = arr[5];\n\n    p5.push();\n    p5.translate(cx, cy);\n    p5.scale((r - 10) / r);\n    for (let i = 0; i < 2; i++) {\n      p5.push();\n      p5.scale(i % 2 === 0 ? -1 : 1, 1);\n      p5.push();\n      p5.beginShape();\n      for (let theta = 0; theta < p5.TWO_PI; theta += p5.TWO_PI / 900) {\n        let u = theta + (p5.frameCount * e) / 4000;\n        let v = theta - (p5.frameCount * f) / 2000;\n        let x = p5.cos(a * u) - p5.pow(p5.sin(b * v), e) * r;\n        let y = p5.sin(c * v) - p5.pow(p5.cos(d * u), f) * r;\n        p5.vertex(x, y);\n      }\n      p5.endShape(p5.CLOSE);\n      p5.pop();\n\n      p5.pop();\n    }\n    p5.pop();\n  };\n\n  render() {\n    return <Sketch setup={this.setup} draw={this.draw} />;\n  }\n}\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/1.48779836.png\";","export default __webpack_public_path__ + \"static/media/2.d2364a9d.png\";","export default __webpack_public_path__ + \"static/media/3.8174227f.png\";","export default __webpack_public_path__ + \"static/media/4.f45761bc.png\";","export default __webpack_public_path__ + \"static/media/tail.aff13cd0.png\";","// Copyright (c) 2021 drafff\n//\n// This software is released under the MIT License.\n// https://opensource.org/licenses/MIT\n\n// import React from \"react\";\nimport manImg1 from \"../assets/1.png\";\nimport manImg2 from \"../assets/2.png\";\nimport manImg3 from \"../assets/3.png\";\nimport manImg4 from \"../assets/4.png\";\nimport manImg5 from \"../assets/tail.png\";\nimport styles from \"../styles/manual.module.scss\";\nfunction Manual() {\n  return (\n    <div className={styles.manual}>\n      <img src={manImg1} alt=\"1\" className={styles.m1}/>\n\n      <img src={manImg2} alt=\"2\" />\n      <img src={manImg3} alt=\"3\" />\n      <img src={manImg4} alt=\"4\" />\n      <img src={manImg5} alt=\"5\" />\n    </div>\n  );\n}\n\nexport default Manual;\n","import React, { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport P5canvas from \"./components/p5canvas\";\nimport Manual from \"./components/manual\";\nimport styles from \"./styles/mainPage.module.scss\";\nconst AV = require(\"leancloud-storage\");\nfunction Home() {\n  // const [deltTime, setDeltTime] = useState(0);\n  const [paramList, setParamList] = useState([]);\n  const [callText, setCallText] = useState(\"\");\n  const [callTexten, setCallTexten] = useState(\"\");\n  const [dataText, setDataText] = useState(\"\");\n  const [totalTime, setTotalTime] = useState(\"\");\n  let { userId } = useParams();\n  const query = new AV.Query(\"guests\");\n  // console.log(1);\n  let userData;\n  if (paramList.length === 0) {\n    AV.init({\n      appId: \"bdGlN6WxWw3YTiT9MIYRxnp6-gzGzoHsz\",\n      appKey: \"I4Rs1qPTJJIo6dj1WMFgBkR9\",\n      serverURL: \"https://bdgln6wx.lc-cn-n1-shared.com\",\n    });\n    query.equalTo(\"userId\", userId);\n    query.find().then(i => {\n      if (i[0]) {\n        userData = i[0].attributes;\n        console.log(userData);\n        let list = [\n          userData.a,\n          userData.b,\n          userData.c,\n          userData.d,\n          userData.e,\n          userData.f,\n        ];\n        if (userData.textFlag === \"0\") {\n          setCallText(\"步履匆匆的行路人\");\n          setCallTexten(\"Walker in rush\");\n        } else if (userData.textFlag === \"1\") {\n          setCallText(\"闲庭信步的漫游者\");\n          setCallTexten(\"Chill Flâneur\");\n        } else if (userData.textFlag === \"2\") {\n          setCallText(\"夏日芳香的梦旅人\");\n          setCallTexten(\"Summer Traveller\");\n        }\n        if (userData.brithTime) {\n          let date = new Date(Math.floor(userData.brithTime * 1000));\n          let Y = date.getFullYear() + \"-\";\n          let M =\n            (date.getMonth() + 1 < 10\n              ? \"0\" + (date.getMonth() + 1)\n              : date.getMonth() + 1) + \"-\";\n          let D = date.getDate() + \" \";\n          let h = date.getHours() + \":\";\n          let m = date.getMinutes() + \":\";\n          let s = date.getSeconds();\n          setDataText(Y + M + D + h + m + s);\n        }\n        setTotalTime(Math.floor(userData.finishTime - userData.brithTime));\n\n        setParamList(list);\n      }\n    });\n  }\n\n  return (\n    <div className=\"Home\">\n      {paramList.length > 0 && <Greet userId={userId} />}\n      <h1 className={styles.call}>{callText}</h1>\n      <h1 className={styles.call}>{callTexten}</h1>\n      {paramList.length > 0 && (\n        <p className={styles.pp}>\n          你于{dataText}进入象山艺术公社N59展厅，观展总时长为{totalTime}s;\n        </p>\n      )}\n\n      {paramList.length > 0 && <P5canvas paramList={paramList} />}\n      <Manual />\n    </div>\n  );\n}\n\nlet Greet = () => {\n  let { userId } = useParams();\n  return (\n    <div className={styles.greet}>\n      <h2>Helloooo 装配者</h2>\n      <h3>ID: {userId}</h3>\n      <h2>你的观展身份为：</h2>\n    </div>\n  );\n};\n\nexport default Home;\n","import \"./App.css\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport Home from \"./mainPage\";\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <div>\n          <Route path=\"/:userId\">\n            <Home />\n          </Route>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}